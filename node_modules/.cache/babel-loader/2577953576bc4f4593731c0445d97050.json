{"ast":null,"code":"var _jsxFileName = \"F:\\\\node\\\\rfilters\\\\src\\\\App.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { getCards } from './actions/getcards';\nimport DropdownProto from './components/dropdown/DropdownProto';\nimport get_year_quarter from './js/get_year_quarter';\nimport convert_quarter_string from './js/convert_quarter_string';\nimport cssfiles from './cssfiles.js';\nimport LoopHeading from './fields.js';\nimport FontAwesome from 'react-fontawesome';\nimport './components/dropdown/styles/global.css';\nimport PlaceIcon from \"./css/placeholder.svg\";\nimport PriceIcon from \"./css/price-tag.svg\";\nimport ReduceIcon from \"./css/reduce.svg\";\nimport CountingIcon from \"./css/counting.svg\";\nimport MoneyIcon from './css/MoneyIcon';\nimport CalendarIcon from './css/CalendarIcon';\n\nvar App = function App(_ref) {\n  var cards = _ref.cards,\n      filterTypes = _ref.filterTypes,\n      onFindCard = _ref.onFindCard,\n      onGetCards = _ref.onGetCards,\n      onSelectedDistrict = _ref.onSelectedDistrict,\n      onSelectedPrice = _ref.onSelectedPrice,\n      onToggleList = _ref.onToggleList,\n      ownProps = _ref.ownProps;\n  var cardInput = '';\n  var searchInput = '';\n  var taskInput = '';\n  var task_descInput = '';\n  var task_statusInput = '';\n\n  var findCard = function findCard() {\n    onFindCard(searchInput.value);\n  };\n\n  var toggleList = function toggleList(ev, name) {\n    onToggleList(name);\n  };\n\n  var selectedDistrict = function selectedDistrict(id, key, value) {\n    onSelectedDistrict(id, key, value);\n  };\n\n  var selectedPrice = function selectedPrice(id, key, value) {\n    onSelectedPrice(id, key, value);\n  };\n\n  var image_Style = function image_Style(a) {\n    return {\n      backgroundSize: \"cover\",\n      display: \"block\",\n      height: \"100%\",\n      backgroundImage: \"url(/uploads/\" + a + \")\"\n    };\n  };\n\n  return React.createElement(\"div\", {\n    className: \"Cards\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"fields\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row blueb\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-lg-12 col-xs-12 flex cardsearch\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    onChange: findCard,\n    ref: function ref(input) {\n      searchInput = input;\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: findCard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \" \", React.createElement(\"img\", {\n    alt: \"search\",\n    src: \"/brief/magnifying-glass.svg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), \" \")), React.createElement(\"div\", {\n    className: \"dropdown_menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"dd-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"dd-header\",\n    onClick: function onClick(ev) {\n      return toggleList(ev, filterTypes.districts.options[0].key);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"dd-header-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, filterTypes.districts.headerTitle), filterTypes.districts.listOpen ? React.createElement(FontAwesome, {\n    name: \"angle-up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }) : React.createElement(FontAwesome, {\n    name: \"angle-down\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"gray_icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"search\",\n    src: PlaceIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }))), filterTypes.districts.listOpen && React.createElement(\"ul\", {\n    className: \"dd-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, filterTypes.districts.options.map(function (item) {\n    return React.createElement(\"li\", {\n      className: \"dd-list-item\",\n      key: item.title,\n      onClick: function onClick() {\n        return selectedDistrict(item.id, item.key, item.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, item.title, \" \", item.selected && React.createElement(FontAwesome, {\n      name: \"check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }));\n  }))), React.createElement(\"div\", {\n    className: \"dd-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"dd-header\",\n    onClick: function onClick(ev) {\n      return toggleList(ev, filterTypes.prices.options[0].key);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"dd-header-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, filterTypes.prices.headerTitle), filterTypes.prices.listOpen ? React.createElement(FontAwesome, {\n    name: \"angle-up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }) : React.createElement(FontAwesome, {\n    name: \"angle-down\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"gray_icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"search\",\n    src: PriceIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }))), filterTypes.prices.listOpen && React.createElement(\"ul\", {\n    className: \"dd-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, filterTypes.prices.options.map(function (item) {\n    return React.createElement(\"li\", {\n      className: \"dd-list-item\",\n      key: item.title,\n      onClick: function onClick() {\n        return selectedPrice(item.id, item.key, item.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, item.title, \" \", item.selected && React.createElement(FontAwesome, {\n      name: \"check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }));\n  }))), React.createElement(\"div\", {\n    className: \"dd-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"dd-header\",\n    onClick: function onClick(ev) {\n      return toggleList(ev, filterTypes.spaces.options[0].key);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"dd-header-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, filterTypes.spaces.headerTitle), filterTypes.spaces.listOpen ? React.createElement(FontAwesome, {\n    name: \"angle-up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }) : React.createElement(FontAwesome, {\n    name: \"angle-down\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"gray_icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"search\",\n    src: ReduceIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }))), filterTypes.spaces.listOpen && React.createElement(\"ul\", {\n    className: \"dd-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, filterTypes.spaces.options.map(function (item) {\n    return React.createElement(\"li\", {\n      className: \"dd-list-item\",\n      key: item.title,\n      onClick: function onClick() {\n        return selectedDistrict(item.id, item.key, item.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, item.title, \" \", item.selected && React.createElement(FontAwesome, {\n      name: \"check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }));\n  }))), React.createElement(\"div\", {\n    className: \"dd-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"dd-header\",\n    onClick: function onClick(ev) {\n      return toggleList(ev, filterTypes.rooms.options[0].key);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"dd-header-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, filterTypes.rooms.headerTitle), filterTypes.rooms.listOpen ? React.createElement(FontAwesome, {\n    name: \"angle-up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }) : React.createElement(FontAwesome, {\n    name: \"angle-down\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"gray_icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"search\",\n    src: CountingIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }))), filterTypes.rooms.listOpen && React.createElement(\"ul\", {\n    className: \"dd-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, filterTypes.rooms.options.map(function (item) {\n    return React.createElement(\"li\", {\n      className: \"dd-list-item\",\n      key: item.title,\n      onClick: function onClick() {\n        return selectedDistrict(item.id, item.key, item.value);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, item.title, \" \", item.selected && React.createElement(FontAwesome, {\n      name: \"check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }));\n  })))), React.createElement(\"div\", {\n    className: \"dropdown_proto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  })))), React.createElement(LoopHeading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, cards.map(function (card, index) {\n    return React.createElement(\"div\", {\n      key: index,\n      className: \"col-md-3 col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"el_card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"image_c\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: '/doma/' + card.page_link,\n      style: image_Style(card.home_background),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"panel bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"installments_icon\",\n      id: \"installments_icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"search\",\n      src: \"/brief/icons8-money-52.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(\"a\", {\n      href: \"/doma/zhknagagarinskomplato\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, card.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \" \", card.address), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"svg_price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(MoneyIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      className: \"bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"\\u043E\\u0442 \", card.prices_start_at_per_meter, \"  \\u0443.\\u0435./\\u043C\", React.createElement(\"sup\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"2\"))), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"svg_calendar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(CalendarIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), \" \"), convert_quarter_string(card.house_deploy_date)), \"\\u0423\\u0437\\u043D\\u0430\\u0442\\u044C \\u043F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u0435\\u0435 \", React.createElement(\"i\", {\n      className: \"fa fa-arrow-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }))))));\n  }))), React.createElement(\"div\", {\n    style: {\n      display: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    id: \"getcard\",\n    onClick: onGetCards,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, \"Get cards\")));\n};\n\nfunction districtsFilter(state, card) {\n  var chosen = [];\n  state.lists.filterTypes.districts.options.map(function (i) {\n    if (i.selected === false) if (typeof i.value === 'string') chosen.push(i.value);else chosen = i.value;\n  });\n  var bool = chosen.includes(card.block);\n  return bool;\n}\n\nfunction priceFilter(state, card) {\n  var chosen = [];\n  state.lists.filterTypes.prices.options.map(function (i) {\n    if (i.selected === false) if (typeof i.value === 'string') chosen.push(i.value);else chosen = i.value;\n  });\n  var bool = Number(JSON.parse(card.prices)[1].text) < chosen[1];\n  return bool;\n}\n\nfunction spaceFilter(state, card) {\n  var chosen = [];\n  state.lists.filterTypes.spaces.options.map(function (i) {\n    i.selected !== false ? typeof i.value === 'string' ? chosen.push(i.value) : chosen.push(i.value) : i.value;\n  });\n  var bool = false;\n  var prices = JSON.parse(card.prices);\n  var spaces = [Number(prices[0].text), Number(prices[2].text), Number(prices[4].text)];\n  chosen.map(function (e) {\n    if (e[0] < spaces[0] && spaces[0] < e[1] || e[0] < spaces[1] && spaces[1] < e[1] || e[0] < spaces[2] && spaces[2] < e[1]) bool = true;\n    if (isNaN(spaces[0]) && isNaN(spaces[0]) && isNaN(spaces[0])) bool = true;\n  });\n  return bool;\n}\n\nfunction undef_or_NaN(el) {\n  if (isNaN(Number(el)) && typeof el === 'undefined') {\n    return true;\n  }\n\n  return false;\n}\n\nfunction roomFilter(state, card) {\n  var chosen = [];\n  var availability = {};\n  var prices = JSON.parse(card.prices);\n  state.lists.filterTypes.rooms.options.map(function (i) {\n    i.selected !== false ? i.value.length < 2 ? chosen.push(i.value) : chosen = i.value : i.value;\n  });\n  !undef_or_NaN(prices[0].text) || !undef_or_NaN(prices[1].text) ? availability[0] = true : availability[0] = false;\n  !undef_or_NaN(prices[2].text) || !undef_or_NaN(prices[3].text) ? availability[1] = true : availability[1] = false;\n  !undef_or_NaN(prices[4].text) || !undef_or_NaN(prices[5].text) ? availability[2] = true : availability[2] = false;\n  var bool = false;\n\n  for (var prop in chosen) {\n    if (availability[chosen[prop] - 1] === true) bool = true;\n  }\n\n  return bool;\n}\n\nexport default connect(function (state, ownProps) {\n  return {\n    cards: state.cards.filter(function (card) {\n      return card.note_type === 'Объект' && card.title.toLowerCase().includes(state.filterCards.toLowerCase()) && districtsFilter(state, card) && priceFilter(state, card) && spaceFilter(state, card) && roomFilter(state, card);\n    }),\n    filterTypes: state.lists.filterTypes,\n    ownProps: ownProps\n  };\n}, function (dispatch) {\n  return {\n    onFindCard: function onFindCard(task) {\n      dispatch({\n        type: 'FIND_CARD',\n        payload: task\n      });\n    },\n    onGetCards: function onGetCards() {\n      dispatch(getCards());\n    },\n    onToggleList: function onToggleList(payload) {\n      dispatch({\n        type: 'TOGGLE_LIST',\n        payload: payload\n      });\n    },\n    onSelectedDistrict: function onSelectedDistrict(id, key, value) {\n      dispatch({\n        type: 'TOGGLE_SELECTED_ITEM',\n        payload: {\n          id: id,\n          key: key\n        }\n      });\n      dispatch({\n        type: 'FILTER_BY_LISTS',\n        payload: {\n          id: id,\n          value: value\n        }\n      });\n    },\n    onSelectedPrice: function onSelectedPrice(id, key, value) {\n      dispatch({\n        type: 'TOGGLE_SELECTED_ITEM',\n        payload: {\n          id: id,\n          key: key\n        }\n      });\n    }\n  };\n})(App);","map":{"version":3,"sources":["F:\\node\\rfilters\\src\\App.js"],"names":["React","connect","getCards","DropdownProto","get_year_quarter","convert_quarter_string","cssfiles","LoopHeading","FontAwesome","MoneyIcon","CalendarIcon","App","cards","filterTypes","onFindCard","onGetCards","onSelectedDistrict","onSelectedPrice","onToggleList","ownProps","cardInput","searchInput","taskInput","task_descInput","task_statusInput","findCard","value","toggleList","ev","name","selectedDistrict","id","key","selectedPrice","image_Style","a","backgroundSize","display","height","backgroundImage","input","districts","options","headerTitle","listOpen","PlaceIcon","map","item","title","selected","prices","PriceIcon","spaces","ReduceIcon","rooms","CountingIcon","card","index","page_link","home_background","address","prices_start_at_per_meter","house_deploy_date","districtsFilter","state","chosen","lists","i","push","bool","includes","block","priceFilter","Number","JSON","parse","text","spaceFilter","e","isNaN","undef_or_NaN","el","roomFilter","availability","length","prop","filter","note_type","toLowerCase","filterCards","dispatch","task","type","payload"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getCards } from './actions/getcards';\r\nimport DropdownProto from './components/dropdown/DropdownProto';\r\nimport get_year_quarter from './js/get_year_quarter';\r\nimport convert_quarter_string from './js/convert_quarter_string';\r\nimport cssfiles from './cssfiles.js'\r\nimport LoopHeading from './fields.js'\r\nimport FontAwesome from 'react-fontawesome';\r\nimport './components/dropdown/styles/global.css';\r\n\r\n\r\n\r\nimport PlaceIcon from './css/placeholder.svg';\r\nimport PriceIcon from './css/price-tag.svg';\r\n\r\nimport ReduceIcon from './css/reduce.svg';\r\nimport CountingIcon from './css/counting.svg';\r\nimport MoneyIcon from './css/MoneyIcon';\r\nimport CalendarIcon from './css/CalendarIcon';\r\n\r\n\r\nconst App = ({  cards, filterTypes, onFindCard, onGetCards, onSelectedDistrict, onSelectedPrice, onToggleList, ownProps }) => {\r\n  let cardInput = ''; let searchInput = ''; let taskInput = ''; let task_descInput = ''; let task_statusInput = '';\r\n  const findCard = () => { onFindCard(searchInput.value) }\r\n  const toggleList = (ev, name) =>{ onToggleList(name) }\r\n  const selectedDistrict = (id, key, value) => { onSelectedDistrict(id, key, value) }\r\n  const selectedPrice = (id, key, value) => { onSelectedPrice(id, key, value) }\r\n  let image_Style = (a) => {return { backgroundSize: \"cover\",display: \"block\",height: \"100%\", backgroundImage: \"url(/uploads/\" +  a  + \")\" }}\r\n\r\n      return (\r\n      <div className=\"Cards\">\r\n        <div className=\"fields\" >\r\n          <div className=\"row blueb\">\r\n              <div className=\"container\">\r\n                <div className=\"col-lg-12 col-xs-12 flex cardsearch\">\r\n                  <input type=\"text\" onChange={findCard} ref={(input) => { searchInput = input}} />\r\n                  <button onClick={findCard}> <img alt=\"search\" src=\"/brief/magnifying-glass.svg\" /> </button>\r\n                </div>\r\n              <div className=\"dropdown_menu\">\r\n              <div className=\"dd-wrapper\">\r\n                <div className=\"dd-header\" onClick={(ev) => toggleList(ev, filterTypes.districts.options[0].key)}>\r\n                  <div className=\"dd-header-title\">{filterTypes.districts.headerTitle}</div>\r\n                  {filterTypes.districts.listOpen\r\n                    ? <FontAwesome name=\"angle-up\"/>\r\n                    : <FontAwesome name=\"angle-down\"/>\r\n                  }\r\n                  <span className=\"gray_icon\"><img alt=\"search\" src={PlaceIcon} /></span>\r\n                </div>\r\n                {filterTypes.districts.listOpen && <ul className=\"dd-list\">\r\n                   {filterTypes.districts.options.map((item) => (\r\n                     <li className=\"dd-list-item\" key={item.title} onClick={() => selectedDistrict(item.id, item.key, item.value)}>\r\n                       {item.title} {item.selected && <FontAwesome name=\"check\"/>}\r\n                     </li>\r\n                    ))}\r\n                </ul>}\r\n              </div>\r\n              <div className=\"dd-wrapper\">\r\n                <div className=\"dd-header\" onClick={(ev) => toggleList(ev, filterTypes.prices.options[0].key)}>\r\n                  <div className=\"dd-header-title\">{filterTypes.prices.headerTitle}</div>\r\n                  {filterTypes.prices.listOpen\r\n                    ? <FontAwesome name=\"angle-up\"/>\r\n                    : <FontAwesome name=\"angle-down\"/>\r\n                  }<span className=\"gray_icon\"><img alt=\"search\" src={PriceIcon} /></span>\r\n                </div>\r\n                {filterTypes.prices.listOpen && <ul className=\"dd-list\">\r\n                   {filterTypes.prices.options.map((item) => (\r\n                     <li className=\"dd-list-item\" key={item.title} onClick={() => selectedPrice(item.id, item.key, item.value)}>\r\n                       {item.title} {item.selected && <FontAwesome name=\"check\"/>}\r\n                     </li>\r\n                    ))}\r\n                </ul>}\r\n              </div>\r\n              <div className=\"dd-wrapper\">\r\n                <div className=\"dd-header\" onClick={(ev) => toggleList(ev, filterTypes.spaces.options[0].key)}>\r\n                  <div className=\"dd-header-title\">{filterTypes.spaces.headerTitle}</div>\r\n                  {filterTypes.spaces.listOpen\r\n                    ? <FontAwesome name=\"angle-up\"/>\r\n                    : <FontAwesome name=\"angle-down\"/>\r\n                  }<span className=\"gray_icon\"><img alt=\"search\" src={ReduceIcon} /></span>\r\n                </div>\r\n                {filterTypes.spaces.listOpen && <ul className=\"dd-list\">\r\n                   {filterTypes.spaces.options.map((item) => (\r\n                     <li className=\"dd-list-item\" key={item.title} onClick={() => selectedDistrict(item.id, item.key, item.value)}>\r\n                       {item.title} {item.selected && <FontAwesome name=\"check\"/>}\r\n                     </li>\r\n                    ))}\r\n                </ul>}\r\n              </div>\r\n              <div className=\"dd-wrapper\">\r\n                <div className=\"dd-header\" onClick={(ev) => toggleList(ev, filterTypes.rooms.options[0].key)}>\r\n                  <div className=\"dd-header-title\">{filterTypes.rooms.headerTitle}</div>\r\n                  {filterTypes.rooms.listOpen\r\n                    ? <FontAwesome name=\"angle-up\"/>\r\n                    : <FontAwesome name=\"angle-down\"/>\r\n                  }<span className=\"gray_icon\"><img alt=\"search\" src={CountingIcon} /></span>\r\n                </div>\r\n                {filterTypes.rooms.listOpen && <ul className=\"dd-list\">\r\n                   {filterTypes.rooms.options.map((item) => (\r\n                     <li className=\"dd-list-item\" key={item.title} onClick={() => selectedDistrict(item.id, item.key, item.value)}>\r\n                       {item.title} {item.selected && <FontAwesome name=\"check\"/>}\r\n                     </li>\r\n                    ))}\r\n                </ul>}\r\n              </div>\r\n              </div>\r\n              <div className=\"dropdown_proto\">\r\n                {/* <DropdownProto /> */}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <LoopHeading />\r\n        <div className=\"container\">\r\n        <div className=\"row\">\r\n          {\r\n          cards.map((card, index) =>\r\n            <div key={index}  className=\"col-md-3 col-sm-6\">\r\n              <div>\r\n              <div className=\"el_card\">\r\n                <div className=\"image_c\">\r\n                  <a href={'/doma/' + card.page_link}   style={image_Style(card.home_background)}>\r\n                  </a>\r\n                </div>\r\n                <div className=\"panel bordered\">\r\n                  <div className=\"installments_icon\" id=\"installments_icon\"><img alt=\"search\" src=\"/brief/icons8-money-52.png\" /></div>\r\n                  <a href=\"/doma/zhknagagarinskomplato\">\r\n                    <h4>{card.title}</h4>\r\n                    <p> {card.address}</p>\r\n                    <span>\r\n                    <span class=\"svg_price\">\r\n                     <MoneyIcon /></span>\r\n                     <span className=\"bold\">от {card.prices_start_at_per_meter}  у.е./м<sup>2</sup></span></span>\r\n                    <span><span class=\"svg_calendar\"><CalendarIcon /> </span>{convert_quarter_string(card.house_deploy_date)}</span>\r\n                    Узнать подробнее <i className=\"fa fa-arrow-right\"></i>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            </div>\r\n        )}\r\n        </div>\r\n        </div>\r\n        <div style={({ display: 'none' })} >\r\n          <button id=\"getcard\" onClick={onGetCards}>Get cards</button>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\nfunction districtsFilter(state, card) {\r\n  let chosen = []\r\n  state.lists.filterTypes.districts.options.map( i => {\r\n    if (i.selected === false)\r\n    if (typeof i.value === 'string')\r\n      chosen.push(i.value)\r\n    else\r\n      chosen = i.value\r\n  })\r\n  let bool = chosen.includes(card.block)\r\nreturn bool\r\n}\r\nfunction priceFilter(state, card) {\r\n  let chosen = []\r\n  state.lists.filterTypes.prices.options.map( i => {\r\n    if (i.selected === false)\r\n    if (typeof i.value === 'string')\r\n    chosen.push(i.value)\r\n    else\r\n    chosen = i.value\r\n  })\r\n  let bool = Number(JSON.parse(card.prices)[1].text) < chosen[1]\r\nreturn bool\r\n}\r\nfunction spaceFilter(state, card) {\r\n  let chosen = []\r\n  state.lists.filterTypes.spaces.options.map( i => {\r\n    i.selected !== false ? typeof i.value === 'string' ? chosen.push(i.value) : chosen.push(i.value) : i.value\r\n  })\r\n  let bool = false\r\n  let prices = JSON.parse(card.prices)\r\n  let spaces = [ Number(prices[0].text),\r\n                 Number(prices[2].text),\r\n                 Number(prices[4].text) ]\r\n  chosen.map( e => {\r\n    if (e[0] < spaces[0] && spaces[0] < e[1] ||\r\n        e[0] < spaces[1] && spaces[1] < e[1] ||\r\n        e[0] < spaces[2] && spaces[2] < e[1] ) bool = true\r\n   if (isNaN(spaces[0]) && isNaN(spaces[0]) && isNaN(spaces[0])) bool = true\r\n  });\r\nreturn bool\r\n}\r\nfunction undef_or_NaN(el) {\r\n  if (isNaN(Number(el)) && typeof el === 'undefined' ) {\r\n    return true\r\n  } return false\r\n}\r\nfunction roomFilter(state, card) {\r\n  let chosen = []\r\n  let availability = {}\r\n    let prices = JSON.parse(card.prices)\r\n  state.lists.filterTypes.rooms.options.map( i => {\r\n    i.selected !== false ? i.value.length < 2 ? chosen.push(i.value) : chosen = i.value : i.value\r\n  });\r\n  (!undef_or_NaN(prices[0].text) || !undef_or_NaN(prices[1].text)) ?  availability[0] = true : availability[0] = false;\r\n  (!undef_or_NaN(prices[2].text) || !undef_or_NaN(prices[3].text)) ?  availability[1] = true : availability[1] = false;\r\n  (!undef_or_NaN(prices[4].text) || !undef_or_NaN(prices[5].text)) ?  availability[2] = true : availability[2] = false;\r\nlet bool = false\r\nfor (let prop in chosen) {\r\n  if (availability[chosen[prop] - 1] === true) bool = true\r\n  }\r\nreturn bool\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default connect(\r\n  (state, ownProps) => ({\r\n    cards: state.cards\r\n      .filter(\r\n        card => card.note_type === 'Объект' &&\r\n        card.title.toLowerCase().includes(state.filterCards.toLowerCase()) &&\r\n        districtsFilter(state, card) &&\r\n        priceFilter(state, card) &&\r\n        spaceFilter(state, card) &&\r\n        roomFilter(state, card)\r\n      ),\r\n  filterTypes: state.lists.filterTypes,\r\n  ownProps\r\n  }),\r\n  dispatch => ({\r\n    onFindCard : (task) => {\r\n      dispatch({ type: 'FIND_CARD', payload: task})\r\n    },\r\n    onGetCards: () => {\r\n        dispatch(getCards())\r\n    },\r\n    onToggleList : (payload) => {\r\n      dispatch({ type: 'TOGGLE_LIST', payload: payload})\r\n    },\r\n    onSelectedDistrict : (id, key, value) => {\r\n      dispatch({ type: 'TOGGLE_SELECTED_ITEM', payload: {id:id, key:key}})\r\n      dispatch({ type: 'FILTER_BY_LISTS', payload: {id:id, value:value}})\r\n    },\r\n    onSelectedPrice : (id, key, value) => {\r\n      dispatch({ type: 'TOGGLE_SELECTED_ITEM', payload: {id:id, key:key}})\r\n}\r\n  }),\r\n)(App);\r\n"]},"metadata":{},"sourceType":"module"}