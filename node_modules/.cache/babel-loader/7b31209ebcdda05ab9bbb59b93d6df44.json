{"ast":null,"code":"import _regeneratorRuntime from \"F:\\\\node\\\\react_bookshelf\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"F:\\\\node\\\\react_bookshelf\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n\nvar callApi =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var response, body;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch('/books');\n\n          case 2:\n            response = _context.sent;\n            console.log('fetching books');\n            _context.next = 6;\n            return response.json();\n\n          case 6:\n            body = _context.sent;\n\n            if (!(response.status !== 200)) {\n              _context.next = 9;\n              break;\n            }\n\n            throw Error(body.message);\n\n          case 9:\n            console.log('body', body);\n            return _context.abrupt(\"return\", body);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function callApi() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport var getCards = function getCards() {\n  return function (dispatch) {\n    callApi().then(function (res) {\n      return res;\n    }).then(function (data) {\n      dispatch({\n        type: 'FETCH_CARDS_SUCCESS',\n        payload: data\n      });\n    });\n  };\n};","map":{"version":3,"sources":["F:\\node\\react_bookshelf\\src\\actions\\getcards.js"],"names":["callApi","fetch","response","console","log","json","body","status","Error","message","getCards","dispatch","then","res","data","type","payload"],"mappings":";;;AAGA,IAAMA,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAqCC,KAAK,CAAC,QAAD,CAA1C;;AAAA;AAAoBC,YAAAA,QAApB;AAEhBC,YAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AAFgB;AAAA,mBAGGF,QAAQ,CAACG,IAAT,EAHH;;AAAA;AAGVC,YAAAA,IAHU;;AAAA,kBAGwBJ,QAAQ,CAACK,MAAT,KAAoB,GAH5C;AAAA;AAAA;AAAA;;AAAA,kBAGuDC,KAAK,CAACF,IAAI,CAACG,OAAN,CAH5D;;AAAA;AAIhBN,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBE,IAApB;AAJgB,6CAKTA,IALS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAPN,OAAO;AAAA;AAAA;AAAA,GAAb;;AASA,OAAO,IAAMU,QAAQ,GAAG,SAAXA,QAAW;AAAA,SAAM,UAAAC,QAAQ,EAAI;AAC1CX,IAAAA,OAAO,GAAGY,IAAV,CAAe,UAAAC,GAAG,EAAG;AACjB,aAAOA,GAAP;AACD,KAFH,EAEKD,IAFL,CAEU,UAAAE,IAAI,EAAG;AACXH,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAE,qBAAR;AAA+BC,QAAAA,OAAO,EAAEF;AAAxC,OAAD,CAAR;AACL,KAJD;AAKC,GANuB;AAAA,CAAjB","sourcesContent":["\r\n\r\n\r\nconst callApi = async () => { const response = await fetch('/books');\r\n\r\nconsole.log('fetching books');\r\nconst body = await response.json(); if (response.status !== 200) throw Error(body.message);\r\nconsole.log('body', body);\r\nreturn body;\r\n};\r\n\r\n\r\nexport const getCards = () => dispatch => {\r\ncallApi().then(res =>{\r\n    return res\r\n  }).then(data =>{\r\n      dispatch({ type: 'FETCH_CARDS_SUCCESS', payload: data })\r\n})\r\n}\r\n"]},"metadata":{},"sourceType":"module"}