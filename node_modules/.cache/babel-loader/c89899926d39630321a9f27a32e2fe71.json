{"ast":null,"code":"import _regeneratorRuntime from \"F:\\\\node\\\\react_bookshelf\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"F:\\\\node\\\\react_bookshelf\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n\nvar formSend =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(data) {\n    var fetchConf, response, body;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            fetchConf = {\n              method: 'POST',\n              headers: {\n                'Content-type': 'application/json'\n              },\n              body: data,\n              cache: 'default'\n            };\n            _context.next = 3;\n            return fetch('http://localhost:2000/books', fetchConf);\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return response.json();\n\n          case 6:\n            body = _context.sent;\n            if (response.status !== 200) console.log('Error', body);\n            return _context.abrupt(\"return\", body.images);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function formSend(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar formSubmit = function formSubmit() {\n  return function (dispatch) {\n    formSend().then(function (res) {\n      return res;\n    }).then(function (data) {\n      console.log('', data);\n      dispatch({\n        type: 'ADD_BOOK',\n        payload: data\n      });\n    });\n  };\n};\n\nexport default formSubmit;","map":{"version":3,"sources":["F:\\node\\react_bookshelf\\src\\actions\\formSubmit.js"],"names":["formSend","data","fetchConf","method","headers","body","cache","fetch","response","json","status","console","log","images","formSubmit","dispatch","then","res","type","payload"],"mappings":";;;AAAA,IAAMA,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACXC,YAAAA,SADW,GACC;AAAEC,cAAAA,MAAM,EAAE,MAAV;AAChBC,cAAAA,OAAO,EAAE;AAAE,gCAAgB;AAAlB,eADO;AAEfC,cAAAA,IAAI,EAAEJ,IAFS;AAGfK,cAAAA,KAAK,EAAE;AAHQ,aADD;AAAA;AAAA,mBAKSC,KAAK,CAAC,6BAAD,EAAgCL,SAAhC,CALd;;AAAA;AAKRM,YAAAA,QALQ;AAAA;AAAA,mBAMEA,QAAQ,CAACC,IAAT,EANF;;AAAA;AAMXJ,YAAAA,IANW;AAOjB,gBAAIG,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6BC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAsBP,IAAtB;AAPZ,6CAQTA,IAAI,CAACQ,MARI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAARb,QAAQ;AAAA;AAAA;AAAA,GAAd;;AAWC,IAAMc,UAAU,GAAG,SAAbA,UAAa;AAAA,SAAM,UAAAC,QAAQ,EAAI;AACtCf,IAAAA,QAAQ,GAAGgB,IAAX,CAAgB,UAAAC,GAAG,EAAG;AAClB,aAAOA,GAAP;AACD,KAFH,EAEKD,IAFL,CAEU,UAAAf,IAAI,EAAG;AACbU,MAAAA,OAAO,CAACC,GAAR,CAAY,EAAZ,EAAgBX,IAAhB;AACEc,MAAAA,QAAQ,CAAC;AAAEG,QAAAA,IAAI,EAAE,UAAR;AAAoBC,QAAAA,OAAO,EAAElB;AAA7B,OAAD,CAAR;AACL,KALD;AAMC,GAPmB;AAAA,CAAnB;;AASD,eAAea,UAAf","sourcesContent":["const formSend = async (data) => {\r\n  var fetchConf = { method: 'POST',\r\n  headers: { 'Content-type': 'application/json' },\r\n   body: data,\r\n   cache: 'default' };\r\n   const response = await fetch('http://localhost:2000/books', fetchConf);\r\nconst body = await response.json();\r\nif (response.status !== 200) console.log('Error' , body);\r\n return body.images; };\r\n\r\n\r\n const formSubmit = () => dispatch => {\r\nformSend().then(res =>{\r\n    return res\r\n  }).then(data =>{\r\n    console.log('', data);\r\n      dispatch({ type: 'ADD_BOOK', payload: data })\r\n})\r\n}\r\n\r\nexport default formSubmit\r\n"]},"metadata":{},"sourceType":"module"}